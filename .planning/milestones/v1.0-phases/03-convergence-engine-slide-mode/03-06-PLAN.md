---
phase: 03-convergence-engine-slide-mode
plan: 06
type: execute
wave: 1
depends_on: []
files_modified:
  - src/renderer/App.tsx
  - src/renderer/components/SlideControls.tsx
  - src/renderer/index.css
autonomous: true
gap_closure: true
requirements: [SLIDE-01]

must_haves:
  truths:
    - "All slide controls are visible and scrollable when multiple sections are expanded"
    - "Hovering over any slide control shows a descriptive tooltip"
  artifacts:
    - path: "src/renderer/App.tsx"
      provides: "Scrollable right column container"
      contains: "overflow-y-auto"
    - path: "src/renderer/components/SlideControls.tsx"
      provides: "CSS-based custom tooltips on all control components"
      contains: "tooltip"
    - path: "src/renderer/index.css"
      provides: "Scrollbar re-enabled for specific scrollable containers"
      contains: "scrollbar"
  key_links:
    - from: "src/renderer/App.tsx"
      to: "SlideControls.tsx"
      via: "right column has overflow-y-auto allowing scroll"
      pattern: "overflow-y-auto"
    - from: "src/renderer/components/SlideControls.tsx"
      to: "CSS tooltip styles"
      via: "data-tooltip attribute + CSS pseudo-element"
      pattern: "data-tooltip|tooltip"
---

<objective>
Fix scrollable slide controls and replace native tooltips with CSS-based tooltips.

Purpose: UAT gap -- user reported (1) expanded slide control sections clip content because the right column lacks scroll overflow, and (2) native `title` attribute tooltips don't appear in Electron's frameless window. Fix both: make the right column scrollable and implement custom CSS tooltips.

Output: Fully scrollable slide configuration panel with visible tooltips on hover.
</objective>

<execution_context>
@/Users/aharbuz/.claude/get-shit-done/workflows/execute-plan.md
@/Users/aharbuz/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/03-convergence-engine-slide-mode/03-UAT.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Make right column scrollable + re-enable thin scrollbar for scroll containers</name>
  <files>src/renderer/App.tsx, src/renderer/index.css</files>
  <action>
In `src/renderer/App.tsx`, find the right column section (line ~78):

```tsx
<section className="w-56 flex flex-col items-center gap-4 shrink-0 overflow-hidden">
```

Change `overflow-hidden` to `overflow-y-auto` so the column scrolls when slide controls expand beyond viewport:

```tsx
<section className="w-56 flex flex-col items-center gap-4 shrink-0 overflow-y-auto scrollbar-thin">
```

In `src/renderer/index.css`, update the scrollbar-hiding rule to only apply globally but allow a thin styled scrollbar on elements with `.scrollbar-thin`:

Keep the existing `::-webkit-scrollbar { display: none; }` rule as-is (hides scrollbars globally -- this is correct for the main layout).

Add a new rule AFTER the existing scrollbar rule:

```css
/* Thin styled scrollbar for scroll containers */
.scrollbar-thin::-webkit-scrollbar {
  display: block;
  width: 4px;
}

.scrollbar-thin::-webkit-scrollbar-track {
  background: transparent;
}

.scrollbar-thin::-webkit-scrollbar-thumb {
  background-color: rgba(255, 255, 255, 0.1);
  border-radius: 2px;
}

.scrollbar-thin::-webkit-scrollbar-thumb:hover {
  background-color: rgba(255, 255, 255, 0.2);
}
```

This gives a subtle 4px scrollbar that matches the dark theme, only on containers that opt in with `.scrollbar-thin`.
  </action>
  <verify>Run `npx tsc --noEmit` -- zero errors. Grep App.tsx right column section for `overflow-y-auto scrollbar-thin`. Grep index.css for `.scrollbar-thin::-webkit-scrollbar`.</verify>
  <done>Right column scrolls when slide controls expand. A subtle 4px scrollbar appears. All controls are reachable by scrolling.</done>
</task>

<task type="auto">
  <name>Task 2: Replace native title tooltips with CSS-based hover tooltips</name>
  <files>src/renderer/components/SlideControls.tsx, src/renderer/index.css</files>
  <action>
Native `title` attribute tooltips are unreliable in Electron frameless windows. Replace them with CSS-based tooltips using a `data-tooltip` attribute and CSS `::after` pseudo-element.

**Step 1 -- Add tooltip CSS to `src/renderer/index.css`:**

Add at the end of the file:

```css
/* Custom CSS tooltips for Electron (native title unreliable in frameless) */
[data-tooltip] {
  position: relative;
}

[data-tooltip]::after {
  content: attr(data-tooltip);
  position: absolute;
  left: 50%;
  bottom: calc(100% + 6px);
  transform: translateX(-50%);
  padding: 4px 8px;
  background: #1e1e2e;
  color: #a0a0b8;
  font-size: 10px;
  line-height: 1.4;
  border-radius: 4px;
  border: 1px solid rgba(255, 255, 255, 0.08);
  white-space: normal;
  max-width: 200px;
  width: max-content;
  pointer-events: none;
  opacity: 0;
  transition: opacity 0.15s ease;
  z-index: 50;
}

[data-tooltip]:hover::after {
  opacity: 1;
}
```

**Step 2 -- Update SlideControls.tsx control components:**

In ALL four reusable control components (`SliderControl`, `SelectControl`, `RadioGroup`, `CheckboxControl`), replace the `title={tooltip}` prop on the wrapper element with `data-tooltip={tooltip}`.

For `SliderControl` (around line 553):
- Change: `<div className="flex items-center gap-2" title={tooltip}>`
- To: `<div className="flex items-center gap-2" data-tooltip={tooltip}>`

For `SelectControl` (around line 586):
- Change: `<div className="flex items-center gap-2" title={tooltip}>`
- To: `<div className="flex items-center gap-2" data-tooltip={tooltip}>`

For `RadioGroup` (around line 619):
- Change: `<div className="flex items-center gap-2" title={tooltip}>`
- To: `<div className="flex items-center gap-2" data-tooltip={tooltip}>`

For `CheckboxControl` (around line 664):
- Change: `<label ... title={tooltip}>`
- To: `<label ... data-tooltip={tooltip}>`

Also update the one-off inline `title` in the Post-Arrival section's Hold control (around line 360):
- Change: `<div className="flex items-center gap-2" title="How long tracks hold...">`
- To: `<div className="flex items-center gap-2" data-tooltip="How long tracks hold at target before departing. Infinite = wait for chord release.">`

Remove ALL `title={...}` occurrences in SlideControls.tsx. Do a final grep to confirm zero `title=` attributes remain in this file. The `tooltip` prop on each component is still passed and used -- it's just bound to `data-tooltip` instead of `title`.
  </action>
  <verify>Run `npx tsc --noEmit` -- zero errors. Grep SlideControls.tsx for `title=` -- should return zero matches. Grep SlideControls.tsx for `data-tooltip` -- should return matches in all 4 control components + inline Hold control. Grep index.css for `data-tooltip` -- should find the CSS rules.</verify>
  <done>All slide controls show CSS-based tooltips on hover. No native title attributes remain. Tooltips appear as dark popups above the control, visible in Electron frameless window.</done>
</task>

</tasks>

<verification>
1. `npx tsc --noEmit` passes with zero errors
2. Right column has `overflow-y-auto scrollbar-thin` class
3. index.css has `.scrollbar-thin` scrollbar styles and `[data-tooltip]` tooltip styles
4. Zero `title=` attributes remain in SlideControls.tsx
5. All controls use `data-tooltip` for hover text
</verification>

<success_criteria>
- All 5 collapsible slide control sections are visible and scrollable when expanded simultaneously
- Hovering over any control shows a tooltip popup with description text
- Tooltips render correctly in Electron frameless window (CSS-based, not native)
- Subtle thin scrollbar visible on right column when content overflows
</success_criteria>

<output>
After completion, create `.planning/phases/03-convergence-engine-slide-mode/03-06-SUMMARY.md`
</output>
